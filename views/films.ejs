<%- include('partials/header.ejs') %>
<%- include('partials/navbar.ejs') %>

<main>
    <div class="container m-0 titulo">
        <div class="central my-3">
            <h1>NAVEGAR</h1>
            <h6>Explore gêneros, diretores ou títulos premiados. Encontre filmes que você nem sabia que estava procurando.</h6>
        </div>
        
        <div class="mt-5">
            <div class="central">
                <ul class="nav-itens-film">
                    <li><a href="/films">FILMES</a></li>
                    <!-- <li><a href="#">COLEÇÕES</a></li> -->
                    
                </ul>
            </div>
            
            <div class="conteudo">
                <div class="central mt-2">
                    <h5>TODOS OS FILMES NA BASE DE DADOS DA MUBI</h5>
                </div>
                
                <div class="container d-flex justify-content-between">
                    
                    <div class="d-flex gap-3">
                        <select name="Todos os gêneros" id="genero" disabled="disabled" ></select>
                        <select name="Todos od países" id="genero" disabled="disabled"></select>
                        <select name="Todos os anos" id="genero" disabled="disabled"></select>
                    </div>
                    <div class="d-flex gap-3">
                        <h6>ORDENAR POR:</h6>
                        <select name="Mais Populares" id="">
                            mais
                        </select>
                        <div>
                            <h6>EM EXIBIÇÃO</h6>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="container">
                    <h4 class="mt-5">ADICIONAR FILMES NO CATÁLOGO</h4>
                    <form class="mt-3" action="/upload" method="post" enctype="multipart/form-data" >
                        <div class="">
                            <label class="mt-1">TÍTULO</label>
                            <input type="text" name="titulo" id="titulo" class="form-control" required>
                            <label class="mt-3">DIRETOR</label>
                            <input type="text" name="diretor" id="diretor" class="form-control" required>
                            <label class="mt-3">PAÍS</label>
                            <input type="text" name="pais" id="pais" class="form-control" required>
                            <label class="mt-3">ANO</label>
                            <input type="text" name="ano" id="ano" class="form-control" required>
                        </div>
                        
                        <div class="d-flex justify-content-between gap-2 mt-4">
                            <input type="file" name="file" id="file" class="form-control mb-0" required><br>
                            <input type="submit" value="Enviar" class="btn-enviar">
                        </div>
                    </form>

                    
                    <div class="card-body mt-5">
                        <div class="row">
                            <% filmes.forEach(filme => { %>
                            <div class="col-md-4 m-auto position-relative mt-3">
                                <div class="image-container">
                                    <img src="/uploads/<%= filme.file %>" alt="" class="img-thumbnail"> 
                                </div>                       
                                
                                <div class="text-overlay">                             
                                    <p class="titulo-filme mb-0"><%= filme.titulo.toUpperCase() %></p>
                                    <div class="d-flex gap-3">
                                        <p class="txt-bold"><%= filme.diretor.toUpperCase() %></p>
                                        <p><%= filme.pais.toUpperCase() %></p>
                                        <p><%= filme.ano %></p> 
                                    </div>
                                </div>
                            </div>
                            <% }) %>
                        </div>
                    </div>
                </div>
                
            </div>
            
        </div>
    </div>
</main>
<%- include('partials/footer.ejs') %>